multilingual-rag-pipeline/
│
├── src/
│   ├── __init__.py
│   │
│   ├── config/
│   │   ├── __init__.py
│   │   └── settings.py              # PipelineConfig dataclass
│   │
│   ├── models/
│   │   ├── __init__.py
│   │   ├── document.py              # Document, IngestionStatus
│   │   ├── chunks.py                # ParentChunk, ChildChunk
│   │   ├── blocks.py                # ExtractedBlock, NormalizedBlock
│   │   ├── edges.py                 # SemanticEdge
│   │   └── enums.py                 # DocumentFormat, Language, BlockType
│   │
│   ├── pipeline/
│   │   ├── __init__.py
│   │   ├── orchestrator.py          # Main pipeline controller
│   │   │
│   │   ├── stages/
│   │   │   ├── __init__.py
│   │   │   ├── stage_01_upload.py
│   │   │   ├── stage_02_validation.py
│   │   │   ├── stage_03_format_detection.py
│   │   │   ├── stage_04_extraction.py
│   │   │   ├── stage_05_normalization.py
│   │   │   ├── stage_06_language_detection.py
│   │   │   ├── stage_07_structure_parsing.py
│   │   │   ├── stage_08_chunking.py
│   │   │   ├── stage_09_embedding.py
│   │   │   ├── stage_10_graph_building.py
│   │   │   └── stage_11_storage.py
│   │   │
│   │   └── helpers/
│   │       ├── __init__.py
│   │       ├── tokenizer.py         # Token counting utilities
│   │       ├── hasher.py            # SHA256 hashing
│   │       └── id_generator.py      # UUID generation
│   │
│   ├── extractors/
│   │   ├── __init__.py
│   │   ├── base.py                  # Abstract base extractor
│   │   ├── pdf_extractor.py
│   │   ├── docx_extractor.py
│   │   ├── html_extractor.py
│   │   ├── markdown_extractor.py
│   │   └── txt_extractor.py
│   │
│   ├── normalizers/
│   │   ├── __init__.py
│   │   ├── base.py                  # Abstract base normalizer
│   │   ├── unicode_normalizer.py
│   │   ├── arabic_normalizer.py
│   │   └── whitespace_normalizer.py
│   │
│   ├── chunking/
│   │   ├── __init__.py
│   │   ├── hierarchy_resolver.py    # Decides 1/2/3 level hierarchy
│   │   ├── parent_chunker.py        # Creates parent chunks
│   │   ├── child_chunker.py         # Creates child chunks
│   │   └── atomic_detector.py       # Detects tables, code blocks
│   │
│   ├── embedding/
│   │   ├── __init__.py
│   │   ├── base.py                  # Abstract base embedder
│   │   └── cohere_embedder.py       # Cohere implementation
│   │
│   ├── storage/
│   │   ├── __init__.py
│   │   ├── file_storage.py          # Raw file storage
│   │   ├── json_storage.py          # JSON file operations
│   │   └── vector_storage.py        # Chroma operations
│   │
│   ├── retrieval/
│   │   ├── __init__.py
│   │   ├── searcher.py              # Vector search
│   │   └── context_expander.py      # Parent/sibling expansion
│   │
│   └── logging/
│       ├── __init__.py
│       └── pipeline_logger.py       # Custom logging setup
│
├── tests/
│   ├── __init__.py
│   ├── fixtures/
│   │   ├── sample_en.pdf
│   │   ├── sample_ar.pdf
│   │   ├── sample_mixed.md
│   │   ├── sample.html
│   │   ├── sample.docx
│   │   └── sample.txt
│   │
│   ├── unit/
│   │   ├── test_extractors.py
│   │   ├── test_normalizers.py
│   │   ├── test_chunking.py
│   │   └── ...
│   │
│   └── integration/
│       └── test_full_pipeline.py
│
├── data/                            # Created at runtime
│   ├── raw/
│   ├── chroma/
│   ├── documents.json
│   ├── parents.json
│   ├── children.json
│   └── edges.json
│
├── logs/                            # Created at runtime
│   └── pipeline.log
│
├── main.py                          # Entry point
├── requirements.txt
└── README.md